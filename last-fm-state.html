<script>
  var LastFm = LastFm || {};
  (function() {
    var globals = {
      user: '',
      apiKey: ''
    };

    LastFm.getAttrs = function() {
      globals.user = document.querySelector('last-fm').getAttribute('user');
    };
    LastFm.state = {
      properties: {
        /**
         * The API key used to authenticate with Last.fm's API
         * This should ideally be changed to your own key.
         *
         * @attribute apiKey
         * @type String
         * @default ''
         */
        apiKey: {
          type: String,
          value: 'd8cacd3e0cc258e27cf95e491f65760d'
        },
        /**
         * The `user` attribute is the only mandatory parameter.
         *
         * @attribute user
         * @type String
         * @default ''
         */
        user: {
          type: String,
          value: globals.user
        }
      },
      attached: function() {
        LastFm.getAttrs();
        console.log(globals.user);
      }
    }
  })();
</script>
